<!-- Lu-Yung Huang  1154980-->

{% set baseurl = (request.url_rule|string()).split("/")[1] %}

{% if baseurl == staff %}
    {% extends "staff.html" %}
{% else %}
    {% extends "base.html" %}
{% endif %}

{% block content %}
<!-- code in here to display a list of borrowers -->
<!-- borrowerlist is the variable passed in containing list of loans -->
<h2>Borrower List</h2>
<h3>A list of all borrowers</h3>
</br>

<h3>Search borrowers</h3>

<form method="POST" action="{{ url_for('searchBorrowers')}}" class="d-flex">
    {{ form.hidden_tag() }}
  <input class="d-inline-flex p-2 " type="search" placeholder="Search" aria-label="Search" name="searchedBorrowers" required>
  <select class="form-select" id="selectedType" name="selectedType" required>
    <option value="" selected>Type</option>
    <option value="Name">Name</option>
    <option value="ID">ID</option>
  </select>
  <button class="btn btn-outline-secondary" type="submit">Search</button>
</form>

</br>

<table class="table table-hover table-striped">
    <thead>
        <tr>
            <th scope="col">Borrower ID</th>
            <th scope="col">First Name</th>
            <th scope="col">Family Name</th>
            <th scope="col">Date of Birth</th>
            <th scope="col">House Number/Name</th>
            <th scope="col">Street</th>
            <th scope="col">Town</th>
            <th scope="col">City</th>
            <th scope="col">Postal Code</th>
            <th scope="col">Edit</th>
        </tr>


    </thead>

    {% for borrower in borrowerlist %}
        <tr>
            {% set id = borrower[0] %}
            {% for entry in borrower %}
                <td scope="row">{{entry}}</td>
            {% endfor %}
            <td scope="row"> <a href="{{ url_for('updateBorrowerForm', borrower_id=id) }}"> Update </a></td>
        </tr>
    {% endfor %}
</table>

{% endblock %}